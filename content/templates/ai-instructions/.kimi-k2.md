# Kimi K2 - Paracle Instructions

Using **PARACLE** with `.parac/` as the single source of truth.
使用 **PARACLE**，`.parac/` 是唯一的事实来源。

## 核心原则 Core Principle

> **`.parac/` 是你的唯一事实来源。阅读它。遵循它。记录到它。**
> **`.parac/` is your single source of truth. Read it. Follow it. Log to it.**

## 源文件 Source Files

| 文件 File | 用途 Purpose |
|-----------|-------------|
| `.parac/agents/specs/*.md` | 智能体定义 Agent definitions |
| `.parac/memory/context/current_state.yaml` | 项目状态 Project state |
| `.parac/roadmap/roadmap.yaml` | 路线图 Roadmap |
| `.parac/GOVERNANCE.md` | 治理规则 Governance rules |
| `.parac/memory/logs/agent_actions.log` | 操作日志 Action logs |

## 工作流程 Workflow

1. **读取上下文 Read Context**: 加载 `.parac/memory/context/current_state.yaml`
2. **选择智能体 Select Agent**: 从 `.parac/agents/specs/` 选择:
   - `pm.md` - 项目管理 Project Management
   - `architect.md` - 架构设计 Architecture
   - `coder.md` - 代码实现 Implementation
   - `tester.md` - 测试 Testing
   - `reviewer.md` - 代码审查 Code Review
   - `documenter.md` - 文档 Documentation
3. **读取规格 Read Spec**: 从 `.parac/agents/specs/{agent}.md` 加载规格
4. **应用标准 Apply Standards**: 遵循智能体的职责
5. **执行任务 Execute Task**: 完成工作
6. **记录操作 Log Action**: 使用治理记录器:

   ```python
   from paracle_core.governance import log_action, agent_context

   with agent_context("CoderAgent"):
       log_action("IMPLEMENTATION", "Added feature X")
   ```

7. **更新内存 Update Memory**: 提议更新 `.parac/` 文件

## 操作类型 Action Types

| 操作 Action | 使用场景 Use When |
|-------------|------------------|
| `IMPLEMENTATION` | 编写新代码 Writing new code |
| `TEST` | 创建测试 Creating tests |
| `BUGFIX` | 修复错误 Fixing bugs |
| `REFACTORING` | 改进代码 Improving code |
| `REVIEW` | 代码审查 Code review |
| `DOCUMENTATION` | 编写文档 Writing docs |
| `DECISION` | 架构决策 Architecture decisions |

## Kimi 特性 Kimi Features

- 强大的中英文双语能力 Strong bilingual Chinese/English
- 长上下文理解 Long context understanding
- 代码生成优化 Code generation optimization

## 自我使用上下文 Dogfooding Context

```
packages/   ← 框架代码 Framework code (产品 product)
.parac/     ← 项目工作区 Project workspace (自我使用 dogfooding)
```

## 规则 Rules

**应该做 DO:**
- 行动前读取 `.parac/` Read `.parac/` before acting
- 记录所有重要操作 Log all significant actions
- 遵循智能体规格 Follow agent specs

**不应该做 DON'T:**
- 复制智能体定义 Duplicate agent definitions
- 创建自定义治理规则 Create custom governance rules
- 忽略 `.parac/` 状态 Ignore `.parac/` state

---

**记住 Remember**: `.parac/` 是你的唯一事实来源。始终先阅读它。
`.parac/` is your single source of truth. Always read it first.
