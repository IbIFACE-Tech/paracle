# Claude - Paracle Instructions

You are working with **PARACLE framework**. Read `.parac/` as the single source of truth.

## Source Files

- **Agents**: `.parac/agents/specs/*.md` - Agent definitions (PM, Architect, Coder, Tester, Reviewer, Documenter)
- **Governance**: `.parac/GOVERNANCE.md` - Project governance rules
- **State**: `.parac/memory/context/current_state.yaml` - Current project state
- **Roadmap**: `.parac/roadmap/roadmap.yaml` - Roadmap and phases
- **Decisions**: `.parac/roadmap/decisions.md` - Architecture Decision Records
- **Logs**: `.parac/memory/logs/agent_actions.log` - Action history

## Standard Workflow

1. **Read Context**: Load `.parac/memory/context/current_state.yaml` and `.parac/roadmap/roadmap.yaml`
2. **Select Agent**: Identify the appropriate agent persona for the task
3. **Load Spec**: Read full specification from `.parac/agents/specs/{agent}.md`
4. **Apply Standards**: Follow the agent's responsibilities, standards, and decision framework
5. **Execute Task**: Complete the requested work
6. **Log Action**: Append entry to `.parac/memory/logs/agent_actions.log`:
   ```
   [YYYY-MM-DD HH:MM:SS] [AgentName] [ACTION_TYPE] Description
   ```
7. **Update Memory**: Update relevant `.parac/` files as specified in agent spec

## Available Agent Personas

All agents are defined in `.parac/agents/specs/`. Read these files for complete specifications:

| Agent          | File            | Use When                                  |
| -------------- | --------------- | ----------------------------------------- |
| **PM**         | `pm.md`         | Planning, roadmap, tracking, coordination |
| **Architect**  | `architect.md`  | Architecture decisions, system design     |
| **Coder**      | `coder.md`      | Implementation, code quality, standards   |
| **Tester**     | `tester.md`     | Test strategy, quality assurance          |
| **Reviewer**   | `reviewer.md`   | Code review, best practices               |
| **Documenter** | `documenter.md` | Technical documentation                   |

## Claude-Specific Guidelines

- Use Projects feature to maintain context across conversations
- Leverage Artifacts for code generation and documentation
- Use extended context window (100K+) to load multiple `.parac/` files
- Apply multi-step reasoning for complex tasks
- Think step-by-step and show your reasoning

## Action Logging Format

```
[YYYY-MM-DD HH:MM:SS] [AgentType] [ACTION_TYPE] Description

Action Types:
- IMPLEMENTATION: Code implementation
- TEST: Test creation/modification
- REVIEW: Code review
- DOCUMENTATION: Documentation work
- DECISION: Important decision (also log in decisions.log)
- PLANNING: Planning and roadmap
- REFACTORING: Code refactoring
- BUGFIX: Bug fix
- UPDATE: .parac/ file update
```

## Dogfooding Context

This project uses PARACLE to build PARACLE:

```
packages/           ← Framework source code (the product we're building)
.parac/            ← Our workspace (using PARACLE to manage this project)
```

When working in `packages/`, you're developing the PARACLE framework.
When updating `.parac/`, you're managing this project using PARACLE.

## Critical Rules

### ✅ Always Do

- Read `.parac/` files for current context before acting
- Select and adopt appropriate agent persona
- Follow agent's specific standards and workflows
- Log significant actions to `.parac/memory/logs/agent_actions.log`
- Update `.parac/` files when state changes
- Reference source `.parac/` files in your responses

### ❌ Never Do

- Duplicate agent definitions from `.parac/agents/specs/`
- Create your own governance rules (use `.parac/GOVERNANCE.md`)
- Ignore current state in `.parac/memory/context/current_state.yaml`
- Work without consulting `.parac/` first
- Make architecture decisions without Architect agent persona
- Skip logging important actions

## Quick Commands

```bash
# View current state
cat .parac/memory/context/current_state.yaml

# List available agents
ls .parac/agents/specs/

# View recent actions
tail -n 20 .parac/memory/logs/agent_actions.log

# Check roadmap
cat .parac/roadmap/roadmap.yaml

# View governance rules
cat .parac/GOVERNANCE.md

# List open questions
cat .parac/memory/context/open_questions.md
```

## Example Interaction

```
User: "Add a new feature for webhook notifications"

Claude (adopting Coder persona):
1. Read .parac/memory/context/current_state.yaml → See Phase 1, 85% complete
2. Read .parac/agents/specs/coder.md → Load standards (Python 3.10+, Pydantic, Hexagonal)
3. Read .parac/roadmap/roadmap.yaml → Check if webhooks are in scope
4. Consult .parac/agents/specs/architect.md → Consider architecture impact
5. Implement in packages/paracle_events/webhooks.py following standards
6. Add tests in tests/unit/test_webhooks.py
7. Log action: [2025-12-25 15:30:00] [CoderAgent] [IMPLEMENTATION] Added webhook notification system
8. Update .parac/memory/context/current_state.yaml if needed
```

## Multi-Agent Collaboration

When a task requires multiple agents:

```json
{
  "from": "CoderAgent",
  "to": "ArchitectAgent",
  "type": "REQUEST_GUIDANCE",
  "task_id": "PARAC-123",
  "summary": "Architecture guidance needed for webhook system",
  "details": "Should we use event sourcing or simple pub/sub?"
}
```

## For Complete Documentation

See `.github/copilot-instructions.md` for comprehensive instructions including:
- Detailed agent personas
- Complete workflow descriptions
- Architecture patterns
- Code standards
- Testing strategies
- Documentation guidelines

---

**Remember**: `.parac/` is your single source of truth. Always read it first.
